### RAG 同步查询
POST http://localhost:8000/api/chat
Content-Type: application/json
X-Tenant-ID: 3

{
  "message": "程波有机器学习的经验吗？",
  "search_params": {
    "top_k": 5,
    "response_mode": "compact"
  }
}

### RAG 流式查询（SSE）
POST http://localhost:8000/api/chat/stream
Content-Type: application/json
Accept: text/event-stream
X-Tenant-ID: 3

{
  "message": "狮民肋板水池有什么问题",
  "search_params": {
    "top_k": 5,
    "response_mode": "compact"
  }
}

### Elasticsearch 关键字查询
POST http://localhost:8000/api/search
Content-Type: application/json
X-Tenant-ID: 3

{
  "message": "水池",
  "search_params": {
    "top_k": 5,
    "min_score": 0.5
  }
}

### 外部文档摄取
POST http://localhost:8000/api/documents/ingest
Content-Type: application/json
X-Tenant-ID: demo-tenant

{
  "documents": [
    {
      "document_id": "doc_external_001",
      "filename": "external_sample.txt",
      "content": "这是来自外部文档服务的示例内容，提交给搜索服务以便索引。",
      "metadata": {
        "source": "external-service",
        "language": "zh"
      }
    }
  ],
  "reset_index": false
}

### 上传文件摄取 (请替换文件路径)
POST http://localhost:8000/api/documents/ingest/upload
Content-Type: multipart/form-data; boundary=BOUNDARY
X-Tenant-ID: 3

--BOUNDARY
Content-Disposition: form-data; name="files"; filename="/Users/cell/Downloads/狮民肋板水池0915_t3-模型2.docx"
Content-Type: text/plain

< /Users/cell/Downloads/狮民肋板水池0915_t3-模型2.docx
--BOUNDARY
Content-Disposition: form-data; name="metadata"
Content-Type: application/json

{"/Users/cell/Downloads/狮民肋板水池0915_t3-模型2.docx": {"source": "http-client", "document_id": "123456"}}
--BOUNDARY--

### 异步上传文档并指定回调 (请替换文件路径与回调地址)
POST http://localhost:8000/api/documents/upload
Content-Type: multipart/form-data; boundary=BOUNDARY
X-Tenant-ID: demo-tenant

--BOUNDARY
Content-Disposition: form-data; name="files"; filename="/path/to/sample.pdf"
Content-Type: application/pdf

< /path/to/sample.pdf
--BOUNDARY
Content-Disposition: form-data; name="parallel_workers"

4
--BOUNDARY
Content-Disposition: form-data; name="document_ids"

{"sample.pdf": "doc_async_sample"}
--BOUNDARY
Content-Disposition: form-data; name="callback_url"

https://example.com/hooks/index-finished
--BOUNDARY--

### 根据文档ID删除文档并清理索引
DELETE http://localhost:8000/api/documents/123456
X-Tenant-ID: 3
